import numpy as np
from scipy import stats
from sklearn import linear_model
import matplotlib.pyplot as plt

x = {'Aruba': [None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, 1330167597.7653599, 1320670391.06145, 1379888268.15642, 1531843575.4189901, 1665363128.4916198, 1722798882.68156, 1873452513.96648, 1920262569.8324, 1941094972.0670397, 2021301675.97765, 2228279329.6089396, 2331005586.5921803, 2421474860.3352, 2623726256.9832397, 2791960893.85475, 2498932960.89385, 2467703910.61453, 2584463687.15084, None, None, None, None, None, None], 'Afghanistan': [537777811.111111, 548888895.5555559, 546666677.777778, 751111191.111111, 800000044.4444441, 1006666637.77778, 1399999966.6666698, 1673333417.77778, 1373333366.6666698, 1408888922.22222, 1748886595.5555599, 1831108971.1111102, 1595555475.5555599, 1733333264.4444401, 2155555497.77778, 2366666615.55556, 2555555566.66667, 2953333417.77778, 3300000108.88889, 3697940409.6109796, 3641723321.99546, 3478787909.09091, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, 2461665937.8938603, 4128820723.0471296, 4583644246.48061, 5285465685.86423, 6275073571.54659, 7057598406.61553, 9843842455.48323, 10190529882.4878, 12486943505.7381, 15936800636.2487, 17930239399.8149, 20536542736.7297, 20264253973.7858, 20616104298.4975, 19215562179.0117, 19469022207.6852, 20815300220.0428], 'Angola': [None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, 5930503400.83228, 5550483035.90815, 5550483035.90815, 5784341596.36339, 6131475065.23832, 7553560459.1042795, 7072063345.44786, 8083872012.473259, 8769250549.73596, 10201099039.5655, 11228764963.1618, 10603784541.196999, 8307810973.58848, 5768720421.61367, 4438321017.390679, 5538749259.94714, 7526446605.51712, 7648377412.83277, 6506229607.29432, 6152922942.98032, 9129594818.60749, 8936063723.20121, 12497347956.1316, 14188949398.3752, 19640853733.598, 28233712737.97, 41789479931.7142, 60448924661.7935, 84178035578.8223, 75492385928.3332, 82526143645.0623, 104115807985.965, 113923162050.111, 124912503781.14801, 126730196125.425, 102621215573.456, 95337203468.1156, 124209385825.22], 'Albania': [None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, 1924242453.0092897, 1965384586.2422898, 2173750012.5, 2156624900.0, 2126000000.0, 2335124987.5, 2101624962.5, 1139166645.8333302, 709452583.880319, 1228071037.84446, 1985673798.10258, 2424499009.1426396, 3314898291.75235, 2359903108.38446, 2707123772.16195, 3414760915.27878, 3632043907.9773297, 4060758804.12084, 4435078647.74817, 5746945912.58082, 7314865175.6199, 8158548716.68554, 8992642348.7871, 10701011896.7708, 12881352687.7773, 12044212903.8168, 11926953258.916, 12890867538.5302, 12319784787.2987, 12776277515.48, 13228244357.1813, 11386931489.7968, 11883682170.8236, 13039352743.9616]}

def clean_data(x):
    for country in x:
        clean_dict = dict()
        for year in range(len(x[country])):
            if x[country][year] != None:
                clean_dict[year+1960] = x[country][year]
        x[country] = clean_dict
    return x

y = clean_data(x)
aruba_gdp = y['Aruba']
aruba_year_list_wrong = list(aruba_gdp.keys())
aruba_year_list = []
for year in aruba_year_list_wrong:
    aruba_year_list.append([year])
aruba_gdp_list = list(aruba_gdp.values())
plt.scatter(aruba_year_list,aruba_gdp_list,color='black')
plt.show()
reg = linear_model.LinearRegression()
reg.fit(aruba_year_list,aruba_gdp_list)
m = reg.coef_[0]
b = reg.intercept_
# print(m,b)
